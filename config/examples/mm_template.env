# Generic crypto market-maker template.
# Copy into your local env file and set credentials separately.

MM_ENVIRONMENT=testnet
MM_MARKET_NAME=ETH-USD
MM_MARKET_PROFILE=crypto
MM_QUOTE_ANCHOR=mid
MM_MARKOUT_ANCHOR=mid

# Quoting
MM_OFFSET_MODE=dynamic
MM_NUM_PRICE_LEVELS=2
MM_SPREAD_MULTIPLIER=1.2
MM_MIN_OFFSET_BPS=4
MM_MAX_OFFSET_BPS=80
MM_MIN_SPREAD_BPS=0

# Sizing / risk
MM_ORDER_SIZE_MULTIPLIER=1.0
MM_SIZE_SCALE_PER_LEVEL=1.0
MM_MAX_POSITION_SIZE=50
MM_INVENTORY_SKEW_FACTOR=0.35
MM_INVENTORY_DEADBAND_PCT=0.10
MM_SKEW_MAX_BPS=25

# Repricing
MM_REPRICE_TOLERANCE_PERCENT=0.2
MM_MAX_ORDER_AGE_S=15
MM_MIN_REPRICE_INTERVAL_S=0.6
MM_MIN_REPRICE_MOVE_TICKS=2
MM_MIN_REPRICE_EDGE_DELTA_BPS=0.5

# Volatility regime
MM_VOL_REGIME_ENABLED=true
MM_VOL_REGIME_SHORT_WINDOW_S=15
MM_VOL_REGIME_MEDIUM_WINDOW_S=60
MM_VOL_REGIME_LONG_WINDOW_S=120
MM_VOL_REGIME_CALM_BPS=8
MM_VOL_REGIME_ELEVATED_BPS=20
MM_VOL_REGIME_EXTREME_BPS=45
MM_VOL_OFFSET_SCALE_CALM=0.8
MM_VOL_OFFSET_SCALE_ELEVATED=1.5
MM_VOL_OFFSET_SCALE_EXTREME=2.2

# Trend bias
MM_TREND_ENABLED=true
MM_TREND_FAST_EMA_S=15
MM_TREND_SLOW_EMA_S=60
MM_TREND_STRONG_THRESHOLD=0.7
MM_TREND_COUNTER_SIDE_SIZE_CUT=0.6
MM_TREND_SKEW_BOOST=1.5

# Inventory bands and funding bias
MM_INVENTORY_WARN_PCT=0.5
MM_INVENTORY_CRITICAL_PCT=0.8
MM_INVENTORY_HARD_PCT=0.95
MM_FUNDING_BIAS_ENABLED=true
MM_FUNDING_INVENTORY_WEIGHT=1.0
MM_FUNDING_BIAS_CAP_BPS=5

# Exchange safety
MM_FEE_REFRESH_INTERVAL_S=60
MM_BUILDER_PROGRAM_ENABLED=false
MM_DEADMAN_ENABLED=true
MM_DEADMAN_COUNTDOWN_S=60
MM_DEADMAN_HEARTBEAT_S=20
MM_MARGIN_GUARD_ENABLED=true
MM_MIN_AVAILABLE_BALANCE_FOR_TRADING=100
MM_MIN_AVAILABLE_BALANCE_RATIO=0.15
MM_MAX_MARGIN_UTILIZATION=0.85
MM_MIN_LIQ_DISTANCE_BPS=500
MM_RATE_LIMIT_DEGRADED_S=20
MM_RATE_LIMIT_HALT_WINDOW_S=60
MM_RATE_LIMIT_HALT_HITS=5
MM_RATE_LIMIT_HALT_S=30
MM_RATE_LIMIT_EXTRA_OFFSET_BPS=5
MM_RATE_LIMIT_REPRICE_MULTIPLIER=2
